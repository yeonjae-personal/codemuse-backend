<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2023. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
  ~ Morbi non lorem porttitor neque feugiat blandit. Ut vitae ipsum eget quam lacinia accumsan.
  ~ Etiam sed turpis ac ipsum condimentum fringilla. Maecenas magna.
  ~ Proin dapibus sapien vel ante. Aliquam erat volutpat. Pellentesque sagittis ligula eget metus.
  ~ Vestibulum commodo. Ut rhoncus gravida arcu.
  -->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ui-dsbd-view-pst-d">
	<delete id="deleteByUserId">
        DELETE
        FROM tb_dsbd_view_pst_d
        WHERE user_id = #{userId}
    </delete>
    
    <select id="countByUserId" resultType="int">
		SELECT count(*)
        FROM tb_dsbd_view_pst_d 
        WHERE user_id = #{userId} 
	</select>
	
	<insert id ="insert">
		INSERT INTO tb_dsbd_view_pst_d
			(dsbd_view_uuid, user_id, pos_x, pos_y, rgst_user, rgst_dtm, upd_user, upd_dtm)
		VALUES (#{dsbdViewUuid}, #{userId}, #{posX}, #{posY}, #{rgstUser}, now(), #{updUser}, now())
	</insert>
</mapper>